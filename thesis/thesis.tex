%==========================================
%
% Academic thesis template
%
% Based on KOMA-Script book class.
%
% This template is not officially endorsed 
% by any educational institution.
%
% Ben Swift   22/6/12
% benjamin.j.swift@gmail.com
% http://github.com/benswift/thesis-template
% 
% This template is in the public domain
% 
%==========================================
% preamble
\documentclass[oneside,11pt,xetex]{scrbook}
\KOMAoptions{%
  headings=normal,
  captions=rightbeside,
  bibliography=totoc,
  listof=totoc}

%\usepackage{libertineotf}
\usepackage{amsmath}
\newcommand{\argmax}[1]{\underset{#1}{\operatorname{argmax}}}

\usepackage{fontspec}
\setmonofont[Scale=MatchLowercase,Mapping=tex-text]{Tahoma}

\usepackage{booktabs}
\usepackage{tabularx}
% if you want colour tables
% \usepackage{colortbl}

\usepackage[svgnames,hyperref]{xcolor}

\DeclareGraphicsExtensions{.pdf,.png,.jpg}
\graphicspath{{./figures/}}

\usepackage[margin=10pt,labelfont=bf]{caption}
\usepackage[labelformat=simple]{subcaption}
\renewcommand\thesubfigure{(\alph{subfigure})}

\usepackage{metalogo}
\usepackage{hologo}
\usepackage{verbatim}
\usepackage{setspace}
\usepackage{enumitem}
\usepackage{hyperref}

\newlist{transcriptlist}{description}{1}
\setlist[transcriptlist]{font=\sffamily\bfseries,
                              align=left,
                              leftmargin=1.6cm,
                              labelindent=\parindent, 
                              labelwidth=*}

\newenvironment{transcript}%
{\small\begin{transcriptlist}}%
{\end{transcriptlist}}

\newlist{headinglist}{description}{1}
\setlist[headinglist]{font=\sffamily\bfseries, 
                           leftmargin=0cm,
                           style=nextline}

\usepackage[%
backend=biber,
natbib=true,
backref=true,
citecounter=true,
dashed=false,
backrefstyle=three,
citestyle=authoryear-icomp,
firstinits=true,
maxcitenames=2,
maxbibnames=10,
uniquename=mininit,
bibstyle=authoryear,
url=false,
doi=false]{biblatex}

\AtEveryBibitem{\clearfield{month}}
\AtEveryCitekey{\clearfield{month}}

\nocite{*}
\addbibresource[datatype=bibtex]{thesis.bib}

\usepackage[english=british,threshold=15,thresholdtype=words]{csquotes}
\SetCiteCommand{\parencite}

\newenvironment*{smallquote}
  {\quote\small}
  {\endquote}
\SetBlockEnvironment{smallquote}

\usepackage[%
unicode=true,
hyperindex=true,
bookmarks=true,
pdftitle={Beyond \.*Script},
pdfauthor={Veit Heller},
colorlinks=false,
pdfborder=0,
allcolors=DarkBlue,
pdfpagelabels,
hyperfootnotes=true]{hyperref}

\usepackage{bookmark}

\setcounter{tocdepth}{1}

\usepackage[%
acronym, 
nomain,
toc=true]{glossaries}

\usepackage{cleveref}

\makeindex
\makeglossaries

\begin{document}

\newacronym{ast}{AST}{Abstract Syntax Tree}

\newacronym{ir}{IR}{Intermediate Representation}

\renewcommand{\thepage}{\roman{page}}

\pagestyle{empty}

\title{Beyond \.*Script}
\subtitle{Implementing A Language For The Web}

\author{Veit Heller}

\date{\today}

\publishers{%
  \normalsize{%
  A thesis submitted for the degree of \\
  B.Sc. of Applied Computer Science of \\
  The University of Applied Sciences Berlin}}

\uppertitleback{%
  \textbf{Institutional Address}\\
  HTW Berlin\\
  Campus Treskowallee\\
  Treskowallee 8\\
  10318 Berlin\\
  \textsc{Germany}\\
  \bigskip\\
  \textbf{Supervisory Panel}\\

  Prof. Hendrik Gärtner\\
  HTW Berlin\\

  Prof. Henrick Lochmann\\
  HTW Berlin\\
  \bigskip\\
  Set with the help of {\KOMAScript} and
  \XeLaTeX.\\

  \copyright~\the\year. All rights reserved.}

\dedication{\small{\emph{For Meredith, Tobias and all the people who cope with me. Your undying support will not be forgotten.}}}

\pdfbookmark{Title Page}{Title Page}
\maketitle

\frontmatter

\vspace*{0.4\textheight}

\begin{center}
  Except where otherwise indicated, this thesis is my own original
  work.
\end{center}
\vspace*{4cm}

\begin{flushright}
  \begin{minipage}{4cm}
    Veit Heller\\
    \today
  \end{minipage}
\end{flushright}

\begin{onehalfspace}

\addchap{Abstract}

The modern web is comprised of an abundance of very different beasts. Technologies that powered the first versions of the World Wide Web, such as HTML, CSS and JavaScript, and relatively new conceptions like TypeScript, CoffeScript, PureScript, ClojureScript, Elm, LASS, SCSS, Jade and Emscripten - to name but a few - are shaping the internet as we know it. There is a flaw that many of the new technologies have in common, as different as they may look and feel - they are mere preprocessors. In the end, it all boils down to the classic technologies again and we are left with the same programming we have been doing for the last twenty years.

This thesis presents a port of the zepto programming language to the web. It aims to work as seamlessly with existing technologies as possible.

\pdfbookmark{Contents}{Contents}
\tableofcontents

\printglossary[type=\acronymtype,title=Abbreviations]

\mainmatter

\pagestyle{headings}

\setchapterpreamble[u]{%
  \dictum[\emph{B. Kernighan}]{Controlling complexity is the essence of computer programming.}
  \bigskip}
\chapter{Introduction}
\label{chap:intro}

\section{Motivation}

JavaScript has, since its inception, attracted a lot of controversy. This is rooted
in various aspects of its design, from prototypal inheritance to operator precedence.
Prototypal inheritance has the reputation of being counter-intuitive, though it is older
than JavaScript, the first commonly known programming language that implements prototypal
objects being Self.


* things get better

* es 6 and es7 thank god

* a lot of research funneled into it

* still a fundamental rethinking might be necessary

\section{Purpose of this work}

\section{Structure of this work}

\setchapterpreamble[u]{%
  \dictum[\emph{T. Peters}---The Zen of Python]{Practicality beats purity.}
  \bigskip}
\chapter{Motivation}
\label{chap:motivation}

A common saying among programming language designers is that every programmer has written
their own implementation of Lisp. There are a lot of different implementations of Lisp
in the wild, even ones that compile to JavaScript\footnote{such as \href{https://github.com/clojure/clojurescript}{ClojureScript}.}.

The main reason for that is often cited to be the simplicity of the language on a parsing
level. A simple Lisp can be implemented in less than one hundred lines of code, if no
intermediate representation is generated. This is made possible by the unique property
of Lisp of enclosing every statement in parentheses, where the first element within
those parentheses is the statement and the other elements are the arguments.
It can be evaluated straight from a textual level, because things such as operator precedence
and statement amiguity do not exist. In regular Lisp as specified in the initial paper by
John McCarthy\parencite{GCM} only six special forms exist to allow not only for Turing-completeness,
but also for expressiveness.

\section{zepto}

Zepto is a new Scheme implementation that aims to be as small as possible, to be able
to target a lot of different backends. Currently, LLVM and Erlang Core\footnote{Erlang Core 
is the \gls{ir} of Erlang code before it is complied. Resources and documentation
about it are sparse, it mostly seems to exist inside the BEAM's implementation.} bindings are
under development, the reference implementation is a simple interpreter that interprets code
directly from the \gls{ast}. This is slow but ensures a small interpreter size\footnoe{The entire
codebase is about 4000 lines of Haskell code}. The compilers are written directly in
zepto itself.

* chosen because small

* makes a good counter-example to JavaScript

* a functional language as opposed to an object-oriented one

\setchapterpreamble[u]{%
  \dictum[\emph{Hofstadter’s Law}]{It always takes longer than you expect, even when you take into account Hofstadter’s Law.}
  \bigskip}
\chapter{Implementation}
\label{chap:Implementation}



\setchapterpreamble[u]{%
  \dictum[\emph{R. Buckminster Fuller}]{When I'm working on a problem, I never think about beauty. I think only how to solve the problem. But when I have finished, if the solution is not beautiful, I know it is wrong.}
  \bigskip}
\chapter{Outlook}
\label{chap:outlook}


\chapter{Conclusion}
\label{chap:conclusion}


%============================================
%============================================
% end matter

\backmatter

\bookmarksetup{startatroot}

\printbibliography[title=References,heading=bibintoc]

\end{document}
